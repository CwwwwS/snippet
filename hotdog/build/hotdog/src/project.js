window.__require=function e(t,n,i){function s(a,c){if(!n[a]){if(!t[a]){var r=a.split("/");if(r=r[r.length-1],!t[r]){var l="function"==typeof __require&&__require;if(!c&&l)return l(r,!0);if(o)return o(r,!0);throw new Error("Cannot find module '"+a+"'")}}var h=n[a]={exports:{}};t[a][0].call(h.exports,function(e){return s(t[a][1][e]||e)},h,h.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof __require&&__require,a=0;a<i.length;a++)s(i[a]);return s}({bullet:[function(e,t,n){"use strict";cc._RF.push(t,"2d437SznahIvL9NWIG0Pczd","bullet"),cc.Class({extends:cc.Component,properties:{speed:0},onLoad:function(){},start:function(){},onHit:function(){},onCollisionEnter:function(e,t){this.game.gainScore(),t.node.destroy()},update:function(e){(this.game.is_over||this.node.y>400)&&this.node.destroy(),this.node.y+=this.speed*e}}),cc._RF.pop()},{}],doge:[function(e,t,n){"use strict";cc._RF.push(t,"aaf7fEGut1FyoJ/WX2ZAAZT","doge"),cc.Class({extends:cc.Component,onCollisionEnter:function(e,t){t.node.destroy(),this.game.gameover()}}),cc._RF.pop()},{}],enemy:[function(e,t,n){"use strict";cc._RF.push(t,"4a7820Y6JZI74tMJCtfeR04","enemy");cc.Class({extends:cc.Component,properties:{speed:0,speed_min:0,speed_max:0},onLoad:function(){this.speed=Math.random()*(this.speed_max-this.speed_min)+this.speed_min;var e=this.game.screen_width-80;this.node.setPosition(Math.random()*e-e/2,380)},start:function(){},onCollisionEnter:function(e,t){t.node.destroy()},update:function(e){(this.game.is_over||this.node.y<-400)&&this.node.destroy(),this.node.y-=this.speed*e*this.game.speed()}});cc._RF.pop()},{}],game:[function(e,t,n){"use strict";var i;function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"8efebYhrr5DTqfHVDAYCQS3","game"),cc.Class({extends:cc.Component,properties:(i={enemyPrefab:{default:null,type:cc.Prefab},planePrefab:{default:null,type:cc.Prefab},scoreDisplay:{default:null,type:cc.Label},timeDisplay:{default:null,type:cc.Label},resultDisplay:{default:null,type:cc.Sprite},rankDisplay:{default:null,type:cc.Sprite},scoreDisplay2:{default:null,type:cc.Label},nameBox:{default:null,type:cc.EditBox},msgBox:{default:null,type:cc.Label},current:{default:null,type:cc.Label},top10Box:{default:null,type:cc.Label},bulletPrefab:{default:null,type:cc.Prefab},interval:0,time_lapsed:0},s(i,"enemyPrefab",{default:null,type:cc.Prefab}),s(i,"dogePrefab",{default:null,type:cc.Prefab}),s(i,"scallionPrefab",{default:null,type:cc.Prefab}),s(i,"interval_enemy",0),s(i,"is_over",!1),s(i,"score",0),s(i,"up_time",0),s(i,"total_time",60),s(i,"has_uped",!1),i),begin:function(){this.is_over=!1,this.score=0,this.up_time=0,this.total_time=60,this.has_uped=!1,this.msgBox.string="",this.scoreDisplay.string="Score: "+this.score,this.resultDisplay.node.active=!1,this.rankDisplay.node.active=!1;var e=cc.instantiate(this.planePrefab);this.node.addChild(e,cc.macro.MAX_ZINDEX),e.getComponent("sicong").game=this,e.y=-200,this.plane=e,this.node.on(cc.Node.EventType.TOUCH_MOVE,this.fly,this)},fly:function(e){var t=e.getDelta();this.plane.x+=t.x,this.plane.y+=t.y},gainScore:function(){this.score+=1,this.scoreDisplay.string="Score: "+this.score},onLoad:function(){cc.director.getCollisionManager().enabled=!0;var e=cc.view.getVisibleSize();this.screen_width=Math.min(e.width,450),this.scoreDisplay.node.zIndex=cc.macro.MAX_ZINDEX,this.begin()},start:function(){},fire:function(){var e=cc.instantiate(this.bulletPrefab);this.node.addChild(e),e.getComponent("bullet").game=this,e.setPosition(this.plane.getPosition())},spawnEnemy:function(){var e;Math.random()<.05?(e=cc.instantiate(this.scallionPrefab)).getComponent("scallion").game=this:Math.random()<.3?(e=cc.instantiate(this.dogePrefab)).getComponent("doge").game=this:(e=cc.instantiate(this.enemyPrefab)).getComponent("hotdog").game=this,e.getComponent("enemy").game=this,this.node.addChild(e)},speedup:function(){this.up_time=5},speed:function(){return this.up_time>0?3:1},show_rank:function(){this.resultDisplay.node.active=!1,this.rankDisplay.node.active=!0;var e=new XMLHttpRequest,t="http://ppx.crossincode.com/top/?tag=wsc&score="+this.score;e.game=this,e.onreadystatechange=function(){if(4==e.readyState&&200==e.status){var t=JSON.parse(e.responseText);this.game.current.string=t.rank;for(var n=t.today,i="",s=0;s<n.length;s++){var o=n[s],a=o.name;i+=s+". "+a+Array(18-a.length).join(" ")+o.score+"\n"}this.game.top10Box.string=i}},e.open("GET",t,!0),e.send()},upload:function(){if(this.has_uped)this.msgBox.string="\u4e0a\u4f20\u6210\u529f";else if(""!=this.nameBox.string){var e=new XMLHttpRequest,t="http://ppx.crossincode.com/record/?name="+this.nameBox.string+"&score="+this.score+"&tag=wsc";e.game=this,e.onreadystatechange=function(){4==e.readyState&&200==e.status&&(this.game.has_uped=!0,this.game.msgBox.string="\u4e0a\u4f20\u6210\u529f")},e.open("GET",t,!0),e.send()}else this.msgBox.string="\u8bf7\u8f93\u5165\u6635\u79f0"},gameover:function(){this.plane.destroy(),this.is_over=!0,this.node.off(cc.Node.EventType.TOUCH_MOVE,this.fly,this),this.resultDisplay.node.active=!0,this.scoreDisplay2.string=this.score,this.scoreDisplay.string="",this.timeDisplay.string=""},update:function(e){if(!this.is_over){if(this.up_time-=e,this.total_time-=e,this.total_time<0)return void this.gameover();this.interval_enemy-=e*this.speed(),this.interval_enemy<0&&(this.interval_enemy=.5*Math.random()+.1,this.spawnEnemy()),this.timeDisplay.string=parseInt(this.total_time+1)}}}),cc._RF.pop()},{}],hotdog:[function(e,t,n){"use strict";cc._RF.push(t,"aa4a2NFJAxJ0Yj5e1DwQo4I","hotdog"),cc.Class({extends:cc.Component,onCollisionEnter:function(e,t){this.game.gainScore(),t.node.destroy()}}),cc._RF.pop()},{}],plane:[function(e,t,n){"use strict";cc._RF.push(t,"308caXAZhlD742PJ23G248C","plane"),cc.Class({extends:cc.Component,start:function(){},update:function(e){var t=this.game.screen_width/2-40;this.node.x<-t?this.node.x=-t:this.node.x>t&&(this.node.x=t),this.node.y<-320?this.node.y=-320:this.node.y>300&&(this.node.y=300)},onCollisionEnter:function(e,t){this.game.gameover(),t.node.destroy()}}),cc._RF.pop()},{}],scallion:[function(e,t,n){"use strict";cc._RF.push(t,"5b0f0cS2lhCQqTArMI+kMAH","scallion"),cc.Class({extends:cc.Component,onCollisionEnter:function(e,t){t.node.destroy(),this.game.speedup()}}),cc._RF.pop()},{}],sicong:[function(e,t,n){"use strict";cc._RF.push(t,"6ef4f9l8R9EOaP5JU8VyY7j","sicong"),cc.Class({extends:cc.Component,start:function(){},update:function(e){var t=this.game.screen_width/2-40;this.node.x<-t?this.node.x=-t:this.node.x>t&&(this.node.x=t),this.node.y<-320?this.node.y=-320:this.node.y>300&&(this.node.y=300)}}),cc._RF.pop()},{}]},{},["bullet","doge","enemy","game","hotdog","plane","scallion","sicong"]);